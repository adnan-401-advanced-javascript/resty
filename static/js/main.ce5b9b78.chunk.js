(this.webpackJsonplab26=this.webpackJsonplab26||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),s=(a(34),a(35),a(5)),c=a(6),i=a(8),u=a(7),h=a(10),m=(a(36),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{"data-testid":"header",className:"header"},r.a.createElement("h1",null,"RESTy"),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.b,{to:"/"},"Home Page")),r.a.createElement("li",null,r.a.createElement(h.c,{to:"/history"},"History")),r.a.createElement("li",null,r.a.createElement(h.c,{to:"/help"},"Help")))))}}]),a}(n.Component)),d=a(15),p=a(1),E=a(19),f=a.n(E),y=a(27),v=a(28),b=a(24),g=a(25),O=a(26),j=a.n(O),S=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",{"data-testid":"results"},r.a.createElement(j.a,{json:this.props.json}))}}]),a}(n.Component),k=(a(125),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fetchData=function(e,t,a){var r=n.state.method||e,o=n.state.url||t,l=n.state.reqBody||a;n.setState({isLoading:!0}),fetch(o,{method:r,headers:{"Content-Type":"application/json"},body:l?JSON.stringify(n.state.reqBody):void 0}).then(function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,o,l,s,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},r=Object(b.a)(t.headers.entries());try{for(r.s();!(o=r.n()).done;)l=Object(y.a)(o.value,2),s=l[0],c=l[1],a[s]=c}catch(u){r.e(u)}finally{r.f()}return e.next=5,t.json();case 5:i=e.sent,n.setState({isLoading:!1,responseJson:{Headers:a,Response:i},history:[].concat(Object(v.a)(n.state.history),[{method:n.state.method,url:n.state.url,reqBody:n.state.reqBody}])}),localStorage.setItem("history",JSON.stringify(n.state.history));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n.setState({isLoading:!1,responseJson:{error:"check the console"}})}))},n.onChangeMethod=function(e){n.setState({responseJson:{}}),n.setState({method:e.target.value})},n.onChangeUrl=function(e){n.setState({responseJson:{}}),n.setState({url:e.target.value})},n.onChangeBody=function(e){n.setState({responseJson:{}}),n.setState({reqBody:e.target.value})},n.printUrlAndMethod=function(e){e.preventDefault(),n.setState({goMethod:n.state.method,goUrl:n.state.url,goBody:n.state.reqBody}),n.fetchData()},n.state={method:"GET",url:"",reqBody:"",responseJson:{},isLoading:!1,history:[]},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.setState({history:JSON.parse(localStorage.getItem("history"))||[]})}},{key:"componentDidMount",value:function(){var e=this.props.selectedItem;if(console.log("form selectedItem",e),e){var t=this.state.history[e];console.log(t),t&&(this.setState({method:t.method,url:t.url,reqBody:t.reqBody}),this.fetchData(t.method,t.url,t.reqBody))}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.printUrlAndMethod,className:"form"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{name:"url",value:this.state.url,placeholder:"http://",onChange:this.onChangeUrl}),r.a.createElement("br",null),r.a.createElement("input",{checked:"GET"===this.state.method,type:"radio",value:"GET",name:"method",onChange:this.onChangeMethod}),r.a.createElement("label",{htmlFor:"GET"},"GET"),r.a.createElement("input",{checked:"POST"===this.state.method,type:"radio",value:"POST",name:"method",onChange:this.onChangeMethod}),r.a.createElement("label",{htmlFor:"POST"},"POST"),r.a.createElement("input",{checked:"PUT"===this.state.method,type:"radio",value:"PUT",name:"method",onChange:this.onChangeMethod}),r.a.createElement("label",{htmlFor:"PUT"},"PUT"),r.a.createElement("input",{checked:"DELETE"===this.state.method,type:"radio",value:"DELETE",name:"method",onChange:this.onChangeMethod}),r.a.createElement("label",{htmlFor:"DELETE"},"DELETE"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("textarea",{name:"reqBody",onChange:this.onChangeBody,value:this.state.reqBody}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Go")),r.a.createElement("div",null,r.a.createElement("span",null,this.state.goMethod," \xa0 ",this.state.goUrl," ")),r.a.createElement("div",{style:{float:"left"}},this.state.isLoading?r.a.createElement("h1",null,"Loading"):r.a.createElement(S,{json:this.state.responseJson})))}}]),a}(n.Component)),C=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.selectedItem&&this.props.selectItem(null)}},{key:"render",value:function(){var e=this.props,t=e.items||[];return r.a.createElement("aside",{className:"App-history"},r.a.createElement("h4",null,"Search History"),r.a.createElement("ul",{"data-testid":"history"},t.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("span",{className:"method-span"},t.method),r.a.createElement("span",{className:"url-span"},t.url),r.a.createElement("input",{type:"button",onClick:function(){return e.selectItem(a)},value:"Re-Run"}))}))))}}]),a}(r.a.Component);function I(){return r.a.createElement("div",null,r.a.createElement("h1",null,"RESTy App"),r.a.createElement("h4",null,"help"),r.a.createElement("h4",null,"this application provides an online rest tool"))}function T(){return r.a.createElement("div",null,r.a.createElement("h1",null,"NotFound 404"))}var B=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={history:[],selectedItem:null},n.selectItem=n.selectItem.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"selectItem",value:function(e){console.log("main selectItem",e),this.setState({selectedItem:e})}},{key:"componentWillMount",value:function(){this.setState({history:JSON.parse(localStorage.getItem("history"))||[]})}},{key:"render",value:function(){return r.a.createElement("main",{"data-testid":"main"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement(k,{selectedItem:this.state.selectedItem})),r.a.createElement(p.a,{exact:!0,path:"/history"},r.a.createElement(C,{selectedItem:this.state.selectedItem,selectItem:this.selectItem,items:this.state.history})),r.a.createElement(p.a,{path:"/help"},r.a.createElement(I,null)),r.a.createElement(p.a,{path:"*"},r.a.createElement(T,null))))}}]),a}(n.Component),M=(a(126),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{"data-testid":"footer",className:"footer"})}}]),a}(n.Component));var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement(B,null),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,null,r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},29:function(e,t,a){e.exports=a(127)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){}},[[29,1,2]]]);
//# sourceMappingURL=main.ce5b9b78.chunk.js.map